// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-iterator-like@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-finite@esm/index.mjs";var l=o,p=m,j=d.isPrimitive,v=a.isPrimitive,h=n;var f=function(t,e){return l(e)?p(e,"iter")&&(t.iter=e.iter,!j(e.iter))?new TypeError("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","iter",e.iter):p(e,"tol")&&(t.tol=e.tol,!v(e.tol)||e.tol<=0)?new TypeError(h("invalid option. `%s` option must be a positive finite number. Option: `%s`.","tol",e.tol)):null:new TypeError(h("invalid argument. Options argument must be an object. Value: `%s`.",e))},b=t,u=e,g=i,c=s,x=r.isPrimitive,w=n,y=f;var E=function(t){var e,i,s,r,n,o,m,d,a,l;if(!b(t))throw new TypeError(w("invalid argument. Must provide an iterator. Value: `%s`.",t));if(i={iter:1e308,tol:g},arguments.length>1&&(s=y(i,arguments[1])))throw s;if((n=t.next()).done)return null;if(r=n.value,!x(r)||c(r))return r;for(0===(d=r)&&(d=1e-50),o=d,m=0,l=1;l<i.iter&&!(n=t.next()).done;){if(l+=1,a=n.value,!x(a)||c(a)){d=NaN;break}if(0===(m+=a)&&(m=1e-50),0===(o=a+1/o)&&(o=1e-50),d*=e=o*(m=1/m),u(e-1)<=i.tol)break}return l<=1?r:d};export{E as default};
//# sourceMappingURL=index.mjs.map
